<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>예약 날짜 선택</title>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h2>예약 날짜 선택</h2>

    <form name="reservation" method="POST" data-netlify="true">
        <div id="datepicker"></div>

        <!-- Hidden input to store the selected date -->
        <input type="hidden" id="selectedDate" name="selectedDate">

        <div>
            <label for="reserverName">예약자 번호:</label>
            <input type="text" id="reserverName" name="reserverName" onkeyup="updateNotice()">
        </div>

        <div id="reservationNotice" style="color:red;"></div>

        <button type="submit" id="confirmBtn">예약 확정</button>
    </form>

    <div class="notice">
        <h3>공지사항</h3>
        <ul>
            <li>1일~7일까지 날짜 예약 선택하세요.</li>
            <li>많은 예약이 있을 시 조율할 수 있습니다.</li>
            <li>날짜 예약 확정하고 불발될 시 다음 달에 예약 날짜에 합쳐서 드리겠습니다.</li>
            <li>9일(남양주시,구리시,하남시,포천시)</li>
            <li>10일(성남시,군포시,안양시,과천시)</li>
            <li>13일,14일(부천시,광명시,시흥시,안산시,화성시),</li>
            <li>15일,16일(강남구,서초구,송파구)</li>
            <li>17일(인천지역)</li>
            <li>20일,21일(강동구,광진구,성동구,중구,노원구,마포구,용산구)</li>
            <li>22일,23일(금천구,구로구,영등포구,양천구,강서구)</li>
            <li>24일(용인,수원)</li>
        </ul>
    </div>

    <script>
        function updateNotice() {
            var name = $("#reserverName").val();
            var date = $("#selectedDate").val();
            if (name && date) {
                $("#reservationNotice").text(name + "님, " + date + " '확정'을 눌러 예약해주세요.");
            }
        }

        $(function() {
            $("#datepicker").datepicker({
                onSelect: function(dateText) {
                    var name = $("#reserverName").val();
                    $("#selectedDate").val(dateText);
                    updateNotice();
                },
                minDate: 0 // 지난 날짜 선택 방지
            });
        });
    </script>
</body>

</html>
